Task Management App


--< Creating app.js server.js file then calling middlewares dotenv config, cookieparser, express.json, urlEncodedTrue 
--> Creating db.js file and exporting connectToDb method then calling that method in server.js file 
--> creating models task and user
--> Calling fileupload from express fileupload and use it as middleware before connectodb method
--> using cloudinary in server.js config it and pass api, name , secretkey
-->creating catchAsyncError and errorMiddleware
--> In errormiddleware if we want to throw error we can use next(error) and if we want to pass status code we can throw instance of errorHandler class with status code.  now on app.js call it in end  of  routes
--> wrap all controllers with catchAsyncError middleware
--> create routes and call it in app.js
--> Creating controller for user to handle login logout register facility then creating its router then calling it in app.js with initial route app.use("/api/v1/user", userRoute)
--> Creating controller for task to handle create update delete get task facility then creating its router then calling it in app.js with initial route app.use("/api/v1/task", taskRoute)

-->Registration Logic -- 
1 Check if req.files have something or not, if not throw error that avatar required
2 check if avatar we have is in allowed formats, if not throw error that these formats are required
3 grab name email other details from req.body
4 check if email already exists
5 Upload Avatar to Cloudinary
6 if avatar uploading gives an issue handle it
7 store all the details in data base with avatar having Cloudinary upload details (public_id and secure_url).
8 send the response

--> Check in postman if api works or not user data as form-data because we also want  to attach files
--> use schemaname.pre method for hashing password
--> use schemaname.methods to create a method that compare password


--> Login Logic
1 Get email and password from req.body
2 check if email exists or not in db
3 check if password compared is right or not by entered password

--> A beautiful Thing we have done here to generate Token is we will be having amethod on schema that will generate token
now we will create a jwtToken file that will taken message userdata response and status code as parameter so what will happen when user will register successfully we will call this method we have in jwtToken file and pass all required parameters then that method will call another method we have on schema to generate token and set cookies also with options (please check code format)
const options = {
      expires: new Date(
        Date.now() + process.env.COOKIE_EXPIRE * 24 * 60 * 60 * 1000
      ),
      httpOnly: true,
    };
    res.status(statusCode).cookie("token", token, options).json({
      success: true,
      user,
      message,
      token,
    });


-->To Logout simply all above details we will send as response but will keep token as blank and expires time as currentTime
--> Now we will create auth middleware so as we are using concept of Cookies so while Loggin cookies will store the Token so we will get token from req.cookies and use jwt.verify to check if Token is valid or not
also we will get req.user so whoever use this middleware can use req.user for user details whose token is generated


--> Now myProfile want to get user data and that can be easily egt as we will use isAuthenticated middleware before myProfile and that middleware have use data by req.user so simply we will get it from req.user
--> Controllers Update for Task creation update delete getsigle task getTask
1 To create get tititl description from req.body  find which user is updating task then create data in db
2 To delete we will grab task id from req.params then delete it using deleteOne after finding
3 To update we will grab task id from req.params and by using findByIdAndUpdate we will update it
4 To get task first get user id from req.user then find data where cretedBy is userid
5 To get single Task we will get task id from params and find data whose id is taskid





-----------------------------------------Frontend Part--------------------------------------------
-->Creating Components for Login, Profile, Register, header etc
-->Set up routes in app.js   and do not forget to add Toaster component
--> Setup up three states one for user data, another for tasks and last for isAuthenticated and pass whoever needs that in props
--> setup a useEffect on app.js so whenever isAuthenticated value change this will call and fetches profile, settingup isAuthenticated true and set user as currentuserdata
--> On Header we will have navbar and a useEffect method that fetches api to get my task for user , a logout method that will call Logout API and setIsauthenticated false, a filter method that will use switch case to toggle Example if filter to complete we will use filter method and select task from allTasks whose status is complete
-->Creating Register page where we will have states to get form data and avatarHandler method that will get files and  send files to setAvatar state also this is not regular form, we also have files so we will use formData  = new formdata() and append all values to formData once done we can call register api and pass formData (remember we also have to pass header with content type as multiPart/formdata)
-->Creating Login Page for this we will call login api and pass email and password data to it that we will get from state variables email and password declared above if response goes well we will use then and keep isAuthenticated value true and if it is true we will route to Login Page
-->
